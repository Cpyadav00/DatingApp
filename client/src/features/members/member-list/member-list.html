@if (PaginatedMembers(); as paginatedResult) {
<div class="flex flex-col w-full gap-4">
  <!-- Header Row -->
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">

    <!-- Filter Buttons -->
    <div class="flex flex-wrap gap-2 items-center w-full sm:w-auto">
      <button 
        (click)="openModal()" 
        class="btn btn-primary flex-1 sm:flex-none text-xs sm:text-sm md:text-base px-2 py-1 sm:px-3 sm:py-2">
        Select Filters
      </button>

      <button 
        (click)="resetFilters()" 
        class="btn btn-neutral flex-1 sm:flex-none text-xs sm:text-sm md:text-base px-2 py-1 sm:px-3 sm:py-2">
        Reset Filters
      </button>

      <!-- Desktop-only Display Message -->
      <div 
        class="hidden sm:block text-xs sm:text-sm md:text-lg bg-base-100 py-1 px-2 sm:py-2 sm:px-4 border rounded-lg text-primary capitalize">
        {{displayMessage}}
      </div>
    </div>

    <!-- Desktop Pagination -->
    @if (paginatedResult.metaData; as metadata) {
    <div class="hidden sm:block">
      <app-paginator
        [pageNumber]="metadata.currentPage"
        [totalCount]="metadata.totalCount"
        [pageSize]="metadata.pageSize"
        [totalPage]="metadata.totalPage"
        (pageChange)="OnPageChange($event)"
      ></app-paginator>
    </div>
    }
  </div>

  <!-- Members Grid -->
  @if (paginatedResult.items; as members) {
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 lg:gap-6">
    @for (member of members; track member.id) {
      <app-members-card [member]="member"></app-members-card>
    }
  </div>
  }

  <!-- Mobile Pagination -->
  @if (paginatedResult.metaData; as metadata) {
  <div class="block sm:hidden mt-2 text-xs p-1">
    <app-paginator
      [pageNumber]="metadata.currentPage"
      [totalCount]="metadata.totalCount"
      [pageSize]="mobilePageSize"
      [totalPage]="mobileTotalPages"
      (pageChange)="OnPageChange($event)"
    ></app-paginator>
  </div>
  }
</div>
}

<!-- Filter Modal -->
<app-filter-modal
  #filterModal
  [hidden]="!PaginatedMembers()"
  (closeModal)="onClose()"
  (submitData)="onFilterChange($event)"
></app-filter-modal>
